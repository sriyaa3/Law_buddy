{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/sivaramand/Downloads/AskLegal.ai-AI-Legal-Assistant-main/asklegal_enhanced/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0;import React,{useState,useEffect,useRef}from'react';import styled from'styled-components';import{FaPaperPlane,FaRobot,FaUser}from'react-icons/fa';import{chatApi}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PageContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  max-width: 1200px;\\n  margin: 0 auto;\\n\"])));const PageTitle=styled.h1(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  color: #2c3e50;\\n  margin-bottom: 20px;\\n\"])));const ChatContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  height: calc(100vh - 150px);\\n  background: white;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n  overflow: hidden;\\n\"])));const ChatMessages=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  overflow-y: auto;\\n  padding: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 15px;\\n\"])));const Message=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 10px;\\n  max-width: 80%;\\n  \\n  \",\"\\n\"])),props=>props.isUser&&\"\\n    align-self: flex-end;\\n  \");const MessageAvatar=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-size: 20px;\\n  color: #3498db;\\n  min-width: 30px;\\n\"])));const MessageContent=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  color: \",\";\\n  padding: 12px 15px;\\n  border-radius: 18px;\\n  line-height: 1.4;\\n\"])),props=>props.isUser?'#3498db':'#f1f2f6',props=>props.isUser?'white':'#2c3e50');const InputContainer=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  display: flex;\\n  padding: 20px;\\n  border-top: 1px solid #eee;\\n  background: white;\\n\"])));const MessageInput=styled.input(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  padding: 12px 15px;\\n  border: 1px solid #ddd;\\n  border-radius: 25px;\\n  font-size: 14px;\\n  outline: none;\\n  \\n  &:focus {\\n    border-color: #3498db;\\n  }\\n\"])));const SendButton=styled.button(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  background: #3498db;\\n  color: white;\\n  border: none;\\n  border-radius: 50%;\\n  width: 45px;\\n  height: 45px;\\n  margin-left: 10px;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: background-color 0.2s;\\n  \\n  &:hover {\\n    background: #2980b9;\\n  }\\n\"])));function ChatPage(){const[messages,setMessages]=useState([{id:1,text:\"Hello! I'm your AI Legal Assistant. How can I help you with your legal queries today?\",isUser:false,timestamp:new Date()}]);const[inputMessage,setInputMessage]=useState('');const[isLoading,setIsLoading]=useState(false);const messagesEndRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});};useEffect(()=>{scrollToBottom();},[messages]);const handleSendMessage=async()=>{if(!inputMessage.trim()||isLoading)return;// Add user message\nconst userMessage={id:Date.now(),text:inputMessage,isUser:true,timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setInputMessage('');setIsLoading(true);try{// Send to backend API\nconst response=await chatApi.sendMessage(inputMessage,'default_chat');// Add AI response\nconst aiMessage={id:Date.now()+1,text:response.data.response,isUser:false,timestamp:new Date()};setMessages(prev=>[...prev,aiMessage]);}catch(error){console.error('Error sending message:',error);// Add error message\nconst errorMessage={id:Date.now()+1,text:\"Sorry, I encountered an error. Please try again.\",isUser:false,timestamp:new Date()};setMessages(prev=>[...prev,errorMessage]);}finally{setIsLoading(false);}};const handleKeyPress=e=>{if(e.key==='Enter'){handleSendMessage();}};return/*#__PURE__*/_jsxs(PageContainer,{children:[/*#__PURE__*/_jsx(PageTitle,{children:\"Legal Chat Assistant\"}),/*#__PURE__*/_jsxs(ChatContainer,{children:[/*#__PURE__*/_jsxs(ChatMessages,{children:[messages.map(message=>/*#__PURE__*/_jsxs(Message,{isUser:message.isUser,children:[/*#__PURE__*/_jsx(MessageAvatar,{children:message.isUser?/*#__PURE__*/_jsx(FaUser,{}):/*#__PURE__*/_jsx(FaRobot,{})}),/*#__PURE__*/_jsx(MessageContent,{isUser:message.isUser,children:message.text})]},message.id)),isLoading&&/*#__PURE__*/_jsxs(Message,{isUser:false,children:[/*#__PURE__*/_jsx(MessageAvatar,{children:/*#__PURE__*/_jsx(FaRobot,{})}),/*#__PURE__*/_jsx(MessageContent,{isUser:false,children:\"Thinking...\"})]}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(InputContainer,{children:[/*#__PURE__*/_jsx(MessageInput,{value:inputMessage,onChange:e=>setInputMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Ask a legal question...\",disabled:isLoading}),/*#__PURE__*/_jsx(SendButton,{onClick:handleSendMessage,disabled:isLoading,children:/*#__PURE__*/_jsx(FaPaperPlane,{})})]})]})]});}export default ChatPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","FaPaperPlane","FaRobot","FaUser","chatApi","jsx","_jsx","jsxs","_jsxs","PageContainer","div","_templateObject","_taggedTemplateLiteral","PageTitle","h1","_templateObject2","ChatContainer","_templateObject3","ChatMessages","_templateObject4","Message","_templateObject5","props","isUser","MessageAvatar","_templateObject6","MessageContent","_templateObject7","InputContainer","_templateObject8","MessageInput","input","_templateObject9","SendButton","button","_templateObject0","ChatPage","messages","setMessages","id","text","timestamp","Date","inputMessage","setInputMessage","isLoading","setIsLoading","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","now","prev","response","sendMessage","aiMessage","data","error","console","errorMessage","handleKeyPress","e","key","children","map","message","ref","value","onChange","target","onKeyPress","placeholder","disabled","onClick"],"sources":["/Users/sivaramand/Downloads/AskLegal.ai-AI-Legal-Assistant-main/asklegal_enhanced/frontend/src/pages/ChatPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { FaPaperPlane, FaRobot, FaUser } from 'react-icons/fa';\nimport { chatApi } from '../services/api';\n\nconst PageContainer = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n\nconst PageTitle = styled.h1`\n  color: #2c3e50;\n  margin-bottom: 20px;\n`;\n\nconst ChatContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 150px);\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n`;\n\nconst ChatMessages = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n`;\n\nconst Message = styled.div`\n  display: flex;\n  gap: 10px;\n  max-width: 80%;\n  \n  ${props => props.isUser && `\n    align-self: flex-end;\n  `}\n`;\n\nconst MessageAvatar = styled.div`\n  font-size: 20px;\n  color: #3498db;\n  min-width: 30px;\n`;\n\nconst MessageContent = styled.div`\n  background: ${props => props.isUser ? '#3498db' : '#f1f2f6'};\n  color: ${props => props.isUser ? 'white' : '#2c3e50'};\n  padding: 12px 15px;\n  border-radius: 18px;\n  line-height: 1.4;\n`;\n\nconst InputContainer = styled.div`\n  display: flex;\n  padding: 20px;\n  border-top: 1px solid #eee;\n  background: white;\n`;\n\nconst MessageInput = styled.input`\n  flex: 1;\n  padding: 12px 15px;\n  border: 1px solid #ddd;\n  border-radius: 25px;\n  font-size: 14px;\n  outline: none;\n  \n  &:focus {\n    border-color: #3498db;\n  }\n`;\n\nconst SendButton = styled.button`\n  background: #3498db;\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 45px;\n  height: 45px;\n  margin-left: 10px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background-color 0.2s;\n  \n  &:hover {\n    background: #2980b9;\n  }\n`;\n\nfunction ChatPage() {\n  const [messages, setMessages] = useState([\n    {\n      id: 1,\n      text: \"Hello! I'm your AI Legal Assistant. How can I help you with your legal queries today?\",\n      isUser: false,\n      timestamp: new Date()\n    }\n  ]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  \n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n  \n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  \n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || isLoading) return;\n    \n    // Add user message\n    const userMessage = {\n      id: Date.now(),\n      text: inputMessage,\n      isUser: true,\n      timestamp: new Date()\n    };\n    \n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage('');\n    setIsLoading(true);\n    \n    try {\n      // Send to backend API\n      const response = await chatApi.sendMessage(inputMessage, 'default_chat');\n      \n      // Add AI response\n      const aiMessage = {\n        id: Date.now() + 1,\n        text: response.data.response,\n        isUser: false,\n        timestamp: new Date()\n      };\n      \n      setMessages(prev => [...prev, aiMessage]);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      \n      // Add error message\n      const errorMessage = {\n        id: Date.now() + 1,\n        text: \"Sorry, I encountered an error. Please try again.\",\n        isUser: false,\n        timestamp: new Date()\n      };\n      \n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleSendMessage();\n    }\n  };\n  \n  return (\n    <PageContainer>\n      <PageTitle>Legal Chat Assistant</PageTitle>\n      \n      <ChatContainer>\n        <ChatMessages>\n          {messages.map((message) => (\n            <Message key={message.id} isUser={message.isUser}>\n              <MessageAvatar>\n                {message.isUser ? <FaUser /> : <FaRobot />}\n              </MessageAvatar>\n              <MessageContent isUser={message.isUser}>\n                {message.text}\n              </MessageContent>\n            </Message>\n          ))}\n          {isLoading && (\n            <Message isUser={false}>\n              <MessageAvatar>\n                <FaRobot />\n              </MessageAvatar>\n              <MessageContent isUser={false}>\n                Thinking...\n              </MessageContent>\n            </Message>\n          )}\n          <div ref={messagesEndRef} />\n        </ChatMessages>\n        \n        <InputContainer>\n          <MessageInput\n            value={inputMessage}\n            onChange={(e) => setInputMessage(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Ask a legal question...\"\n            disabled={isLoading}\n          />\n          <SendButton onClick={handleSendMessage} disabled={isLoading}>\n            <FaPaperPlane />\n          </SendButton>\n        </InputContainer>\n      </ChatContainer>\n    </PageContainer>\n  );\n}\n\nexport default ChatPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}